# 7天用Go从零实现RPC框架

# 自学补充知识
day1
    reflect.New(reflect.TypeOf(""))
day5
    http.Hijacker

#Day0 序言
1、RPC框架
RPC(Remote Procedure Call，远程过程调用)是一种计算机通信协议，允许调用不同进程空间的程序。
RPC 的客户端和服务器可以在一台机器上，也可以在不同的机器上。程序员使用时，就像调用本地程序一样，无需关注内部的实现细节。

2、为什么需要RPC框架
假设服务端是不同的团队提供的，如果没有统一的 RPC 框架，各个团队的服务提供方就需要各自实现一套消息编解码、连接池、收发线程、超时处理等“业务之外”的重复技术劳动，造成整体的低效。
因此，“业务之外”的这部分公共的能力，即是 RPC 框架所需要具备的能力。

3、GeeRPC
Go 语言广泛地应用于云计算和微服务，成熟的 RPC 框架和微服务框架汗牛充栋。grpc、rpcx、go-micro 等都是非常成熟的框架。
一般而言，RPC 是微服务框架的一个子集，微服务框架可以自己实现 RPC 部分，当然，也可以选择不同的 RPC 框架作为通信基座。
考虑性能和功能，上述成熟的框架代码量都比较庞大，而且通常和第三方库，例如 protobuf、etcd、zookeeper 等有比较深的耦合，难以直观地窥视框架的本质。
GeeRPC 的目的是以最少的代码，实现 RPC 框架中最为重要的部分，帮助大家理解 RPC 框架在设计时需要考虑什么。代码简洁是第一位的，功能是第二位的。

GeeRPC 选择从零实现 Go 语言官方的标准库 net/rpc，并在此基础上，
新增了协议交换(protocol exchange)、注册中心(registry)、服务发现(service discovery)、负载均衡(load balance)、超时处理(timeout processing)等特性。
分七天完成，最终代码约 1000 行。


#Day1 服务端与消息编码
使用 encoding/gob 实现消息的编解码(序列化与反序列化)
实现一个简易的服务端，仅接受消息，不处理，代码约 200 行

#Day2 高性能客户端
实现一个支持异步和并发的高性能客户端，代码约 250 行

#Day3 服务注册
通过反射实现服务注册功能
在服务端实现服务调用，代码约 150 行

#Day4 超时处理
增加连接超时的处理机制
增加服务端处理超时的处理机制，代码约 100 行

#Day5 支持HTTP协议
支持 HTTP 协议
基于 HTTP 实现一个简单的 Debug 页面，代码约 150 行。

#Day6 负载均衡
通过随机选择和 Round Robin 轮询调度算法实现服务端负载均衡，代码约 250 行

#Day7 服务发现与注册中心(registry)
实现一个简单的注册中心，支持服务注册、接收心跳等功能
客户端实现基于注册中心的服务发现机制，代码约 250 行
